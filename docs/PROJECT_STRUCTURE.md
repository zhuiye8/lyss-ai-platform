# Lyss AI Platform é¡¹ç›®ç›®å½•ç»“æ„è§„èŒƒ

## ğŸ“‹ æ–‡æ¡£æ¦‚è¿°

æœ¬æ–‡æ¡£å®šä¹‰äº† **Lyss AI Platform** é¡¹ç›®çš„æ ‡å‡†ç›®å½•ç»“æ„ï¼Œé€‚ç”¨äºæ‰€æœ‰å¾®æœåŠ¡å’Œå‰ç«¯åº”ç”¨çš„æœ¬åœ°å¼€å‘ç¯å¢ƒã€‚ä¸¥æ ¼éµå¾ªæœ¬è§„èŒƒå°†ç¡®ä¿ä»£ç ç»„ç»‡çš„ä¸€è‡´æ€§ã€é™ä½æ–°æˆå‘˜ä¸Šæ‰‹éš¾åº¦ã€æå‡å›¢é˜Ÿåä½œæ•ˆç‡ã€‚

**é€‚ç”¨èŒƒå›´**: æ‰€æœ‰Lyss AI Platformç›¸å…³çš„ä»£ç ä»“åº“å’ŒæœåŠ¡  
**æ›´æ–°æ—¥æœŸ**: 2025-07-10

---

## ğŸ—ï¸ é¡¹ç›®æ ¹ç›®å½•ç»“æ„

```
lyss-ai-platform/
â”œâ”€â”€ README.md                          # é¡¹ç›®æ€»è§ˆå’Œå¿«é€Ÿå¼€å§‹
â”œâ”€â”€ CLAUDE.md                          # Claude AIå¼€å‘åŠ©æ‰‹æŒ‡ä»¤
â”œâ”€â”€ docker-compose.yml                 # åŸºç¡€è®¾æ–½æœåŠ¡ç¼–æ’
â”œâ”€â”€ .env.example                       # ç¯å¢ƒå˜é‡æ¨¡æ¿
â”œâ”€â”€ .gitignore                         # Gitå¿½ç•¥è§„åˆ™
â”œâ”€â”€ .editorconfig                      # ç¼–è¾‘å™¨é…ç½®
â”œâ”€â”€
â”œâ”€â”€ docs/                              # ğŸ“š é¡¹ç›®æ–‡æ¡£
â”‚   â”œâ”€â”€ README.md                      # æ¶æ„æ¦‚è¿°
â”‚   â”œâ”€â”€ PROJECT_STRUCTURE.md           # ç›®å½•ç»“æ„è§„èŒƒ(æœ¬æ–‡æ¡£)
â”‚   â”œâ”€â”€ STANDARDS.md                   # å¼€å‘è§„èŒƒæ€»çº²
â”‚   â”œâ”€â”€ api_gateway.md                 # APIç½‘å…³æœåŠ¡è§„èŒƒ
â”‚   â”œâ”€â”€ auth_service.md                # è®¤è¯æœåŠ¡è§„èŒƒ
â”‚   â”œâ”€â”€ tenant_service.md              # ç§Ÿæˆ·æœåŠ¡è§„èŒƒ
â”‚   â”œâ”€â”€ eino_service.md                # EINOå·¥ä½œæµæœåŠ¡è§„èŒƒ
â”‚   â”œâ”€â”€ memory_service.md              # è®°å¿†æœåŠ¡è§„èŒƒ
â”‚   â””â”€â”€ deployment/                    # éƒ¨ç½²ç›¸å…³æ–‡æ¡£
â”‚       â”œâ”€â”€ local_setup.md
â”‚       â”œâ”€â”€ docker_guide.md
â”‚       â””â”€â”€ production_checklist.md
â”œâ”€â”€
â”œâ”€â”€ scripts/                           # ğŸ”§ é¡¹ç›®è„šæœ¬
â”‚   â”œâ”€â”€ setup.sh                      # é¡¹ç›®åˆå§‹åŒ–è„šæœ¬
â”‚   â”œâ”€â”€ start_services.sh              # æœåŠ¡å¯åŠ¨è„šæœ¬
â”‚   â”œâ”€â”€ stop_services.sh               # æœåŠ¡åœæ­¢è„šæœ¬
â”‚   â”œâ”€â”€ create_tenant_db.py            # ç§Ÿæˆ·æ•°æ®åº“åˆ›å»º
â”‚   â”œâ”€â”€ migrate_db.py                  # æ•°æ®åº“è¿ç§»
â”‚   â””â”€â”€ health_check.sh                # å¥åº·æ£€æŸ¥è„šæœ¬
â”œâ”€â”€
â”œâ”€â”€ infrastructure/                    # ğŸ³ åŸºç¡€è®¾æ–½é…ç½®
â”‚   â”œâ”€â”€ docker/                        # Dockerç›¸å…³é…ç½®
â”‚   â”‚   â”œâ”€â”€ postgres/
â”‚   â”‚   â”‚   â”œâ”€â”€ Dockerfile
â”‚   â”‚   â”‚   â””â”€â”€ init.sql
â”‚   â”‚   â”œâ”€â”€ redis/
â”‚   â”‚   â”‚   â”œâ”€â”€ Dockerfile
â”‚   â”‚   â”‚   â””â”€â”€ redis.conf
â”‚   â”‚   â””â”€â”€ qdrant/
â”‚   â”‚       â””â”€â”€ config.yaml
â”‚   â”œâ”€â”€ nginx/                         # Nginxé…ç½®
â”‚   â”‚   â”œâ”€â”€ nginx.conf
â”‚   â”‚   â””â”€â”€ ssl/
â”‚   â””â”€â”€ monitoring/                    # ç›‘æ§é…ç½®
â”‚       â”œâ”€â”€ prometheus.yml
â”‚       â””â”€â”€ grafana/
â”œâ”€â”€
â”œâ”€â”€ sql/                               # ğŸ“Š æ•°æ®åº“è„šæœ¬
â”‚   â”œâ”€â”€ init.sql                       # åˆå§‹åŒ–è„šæœ¬
â”‚   â”œâ”€â”€ migrations/                    # æ•°æ®åº“è¿ç§»
â”‚   â”‚   â”œâ”€â”€ 001_create_initial_tables.sql
â”‚   â”‚   â”œâ”€â”€ 002_add_user_preferences.sql
â”‚   â”‚   â””â”€â”€ 003_create_supplier_credentials.sql
â”‚   â””â”€â”€ seeds/                         # æµ‹è¯•æ•°æ®
â”‚       â”œâ”€â”€ roles.sql
â”‚       â”œâ”€â”€ tenants.sql
â”‚       â””â”€â”€ users.sql
â”œâ”€â”€
â”œâ”€â”€ frontend/                          # ğŸ¨ Reactå‰ç«¯åº”ç”¨
â”œâ”€â”€ backend/                           # ğŸš€ FastAPIä¸»æœåŠ¡ (API Gateway)
â”œâ”€â”€ auth-service/                      # ğŸ” FastAPIè®¤è¯æœåŠ¡
â”œâ”€â”€ tenant-service/                    # ğŸ‘¥ FastAPIç§Ÿæˆ·ç®¡ç†æœåŠ¡
â”œâ”€â”€ eino-service/                      # âš¡ Goå·¥ä½œæµç¼–æ’æœåŠ¡
â”œâ”€â”€ memory-service/                    # ğŸ§  FastAPIè®°å¿†ç®¡ç†æœåŠ¡
â”œâ”€â”€
â”œâ”€â”€ shared/                            # ğŸ“¦ å…±äº«ä»£ç åº“
â”‚   â”œâ”€â”€ python/                        # Pythonå…±äº«ç»„ä»¶
â”‚   â”‚   â”œâ”€â”€ auth/                      # è®¤è¯ç›¸å…³
â”‚   â”‚   â”œâ”€â”€ database/                  # æ•°æ®åº“å·¥å…·
â”‚   â”‚   â”œâ”€â”€ logging/                   # æ—¥å¿—ç»„ä»¶
â”‚   â”‚   â””â”€â”€ utils/                     # é€šç”¨å·¥å…·
â”‚   â”œâ”€â”€ go/                           # Goå…±äº«ç»„ä»¶
â”‚   â”‚   â”œâ”€â”€ auth/
â”‚   â”‚   â”œâ”€â”€ logging/
â”‚   â”‚   â””â”€â”€ utils/
â”‚   â””â”€â”€ typescript/                    # TypeScriptå…±äº«ç»„ä»¶
â”‚       â”œâ”€â”€ types/                     # ç±»å‹å®šä¹‰
â”‚       â”œâ”€â”€ api/                       # APIå®¢æˆ·ç«¯
â”‚       â””â”€â”€ utils/                     # å·¥å…·å‡½æ•°
â”œâ”€â”€
â”œâ”€â”€ tests/                             # ğŸ§ª é›†æˆæµ‹è¯•
â”‚   â”œâ”€â”€ e2e/                          # ç«¯åˆ°ç«¯æµ‹è¯•
â”‚   â”œâ”€â”€ integration/                   # é›†æˆæµ‹è¯•
â”‚   â””â”€â”€ load/                         # è´Ÿè½½æµ‹è¯•
â””â”€â”€
â””â”€â”€ tools/                             # ğŸ› ï¸ å¼€å‘å·¥å…·
    â”œâ”€â”€ codegen/                       # ä»£ç ç”Ÿæˆå·¥å…·
    â”œâ”€â”€ linting/                       # ä»£ç æ£€æŸ¥é…ç½®
    â”‚   â”œâ”€â”€ .pylintrc
    â”‚   â”œâ”€â”€ .golangci.yml
    â”‚   â””â”€â”€ .eslintrc.js
    â””â”€â”€ ide/                          # IDEé…ç½®
        â”œâ”€â”€ vscode/
        â”‚   â”œâ”€â”€ settings.json
        â”‚   â”œâ”€â”€ launch.json
        â”‚   â””â”€â”€ extensions.json
        â””â”€â”€ intellij/
```

---

## ğŸ¨ Frontend ç›®å½•ç»“æ„ (React + TypeScript)

```
frontend/
â”œâ”€â”€ package.json                       # é¡¹ç›®ä¾èµ–å’Œè„šæœ¬
â”œâ”€â”€ package-lock.json                  # é”å®šä¾èµ–ç‰ˆæœ¬
â”œâ”€â”€ tsconfig.json                      # TypeScripté…ç½®
â”œâ”€â”€ vite.config.ts                     # Viteæ„å»ºé…ç½®
â”œâ”€â”€ tailwind.config.js                 # Tailwind CSSé…ç½®
â”œâ”€â”€ .env.local                         # æœ¬åœ°ç¯å¢ƒå˜é‡
â”œâ”€â”€
â”œâ”€â”€ public/                            # é™æ€èµ„æº
â”‚   â”œâ”€â”€ index.html
â”‚   â”œâ”€â”€ favicon.ico
â”‚   â””â”€â”€ manifest.json
â”œâ”€â”€
â”œâ”€â”€ src/                               # æºä»£ç 
â”‚   â”œâ”€â”€ main.tsx                       # åº”ç”¨å…¥å£
â”‚   â”œâ”€â”€ App.tsx                        # æ ¹ç»„ä»¶
â”‚   â”œâ”€â”€ App.css                        # å…¨å±€æ ·å¼
â”‚   â”œâ”€â”€
â”‚   â”œâ”€â”€ components/                    # ğŸ“¦ å¯å¤ç”¨ç»„ä»¶
â”‚   â”‚   â”œâ”€â”€ common/                    # é€šç”¨ç»„ä»¶
â”‚   â”‚   â”‚   â”œâ”€â”€ Button/
â”‚   â”‚   â”‚   â”‚   â”œâ”€â”€ index.tsx
â”‚   â”‚   â”‚   â”‚   â”œâ”€â”€ Button.module.css
â”‚   â”‚   â”‚   â”‚   â””â”€â”€ Button.test.tsx
â”‚   â”‚   â”‚   â”œâ”€â”€ Loading/
â”‚   â”‚   â”‚   â”œâ”€â”€ Modal/
â”‚   â”‚   â”‚   â””â”€â”€ Form/
â”‚   â”‚   â”œâ”€â”€ layout/                    # å¸ƒå±€ç»„ä»¶
â”‚   â”‚   â”‚   â”œâ”€â”€ Header/
â”‚   â”‚   â”‚   â”œâ”€â”€ Sidebar/
â”‚   â”‚   â”‚   â”œâ”€â”€ Footer/
â”‚   â”‚   â”‚   â””â”€â”€ MainLayout/
â”‚   â”‚   â””â”€â”€ chat/                      # èŠå¤©ç›¸å…³ç»„ä»¶
â”‚   â”‚       â”œâ”€â”€ ChatContainer/
â”‚   â”‚       â”œâ”€â”€ MessageBubble/
â”‚   â”‚       â”œâ”€â”€ InputBox/
â”‚   â”‚       â””â”€â”€ ConversationList/
â”‚   â”œâ”€â”€
â”‚   â”œâ”€â”€ pages/                         # ğŸ“„ é¡µé¢ç»„ä»¶
â”‚   â”‚   â”œâ”€â”€ login/
â”‚   â”‚   â”‚   â”œâ”€â”€ index.tsx
â”‚   â”‚   â”‚   â””â”€â”€ Login.module.css
â”‚   â”‚   â”œâ”€â”€ dashboard/
â”‚   â”‚   â”‚   â”œâ”€â”€ index.tsx
â”‚   â”‚   â”‚   â”œâ”€â”€ Dashboard.module.css
â”‚   â”‚   â”‚   â””â”€â”€ components/           # é¡µé¢ä¸“ç”¨ç»„ä»¶
â”‚   â”‚   â”œâ”€â”€ chat/
â”‚   â”‚   â”œâ”€â”€ settings/
â”‚   â”‚   â””â”€â”€ admin/
â”‚   â”œâ”€â”€
â”‚   â”œâ”€â”€ hooks/                         # ğŸ£ è‡ªå®šä¹‰Hooks
â”‚   â”‚   â”œâ”€â”€ useAuth.ts
â”‚   â”‚   â”œâ”€â”€ useChat.ts
â”‚   â”‚   â”œâ”€â”€ useLocalStorage.ts
â”‚   â”‚   â””â”€â”€ useApi.ts
â”‚   â”œâ”€â”€
â”‚   â”œâ”€â”€ services/                      # ğŸŒ APIæœåŠ¡
â”‚   â”‚   â”œâ”€â”€ api.ts                     # APIåŸºç¡€é…ç½®
â”‚   â”‚   â”œâ”€â”€ auth.ts                    # è®¤è¯ç›¸å…³API
â”‚   â”‚   â”œâ”€â”€ chat.ts                    # èŠå¤©ç›¸å…³API
â”‚   â”‚   â”œâ”€â”€ user.ts                    # ç”¨æˆ·ç›¸å…³API
â”‚   â”‚   â””â”€â”€ admin.ts                   # ç®¡ç†ç›¸å…³API
â”‚   â”œâ”€â”€
â”‚   â”œâ”€â”€ store/                         # ğŸ—„ï¸ çŠ¶æ€ç®¡ç†
â”‚   â”‚   â”œâ”€â”€ index.ts                   # Storeé…ç½®
â”‚   â”‚   â”œâ”€â”€ slices/                    # Reduxåˆ‡ç‰‡
â”‚   â”‚   â”‚   â”œâ”€â”€ authSlice.ts
â”‚   â”‚   â”‚   â”œâ”€â”€ chatSlice.ts
â”‚   â”‚   â”‚   â””â”€â”€ userSlice.ts
â”‚   â”‚   â””â”€â”€ middleware/                # ä¸­é—´ä»¶
â”‚   â”œâ”€â”€
â”‚   â”œâ”€â”€ types/                         # ğŸ“ TypeScriptç±»å‹
â”‚   â”‚   â”œâ”€â”€ api.ts                     # APIå“åº”ç±»å‹
â”‚   â”‚   â”œâ”€â”€ user.ts                    # ç”¨æˆ·ç›¸å…³ç±»å‹
â”‚   â”‚   â”œâ”€â”€ chat.ts                    # èŠå¤©ç›¸å…³ç±»å‹
â”‚   â”‚   â””â”€â”€ common.ts                  # é€šç”¨ç±»å‹
â”‚   â”œâ”€â”€
â”‚   â”œâ”€â”€ utils/                         # ğŸ”§ å·¥å…·å‡½æ•°
â”‚   â”‚   â”œâ”€â”€ constants.ts               # å¸¸é‡å®šä¹‰
â”‚   â”‚   â”œâ”€â”€ helpers.ts                 # è¾…åŠ©å‡½æ•°
â”‚   â”‚   â”œâ”€â”€ validators.ts              # éªŒè¯å‡½æ•°
â”‚   â”‚   â””â”€â”€ formatters.ts              # æ ¼å¼åŒ–å‡½æ•°
â”‚   â”œâ”€â”€
â”‚   â”œâ”€â”€ assets/                        # ğŸ–¼ï¸ é™æ€èµ„æº
â”‚   â”‚   â”œâ”€â”€ images/
â”‚   â”‚   â”œâ”€â”€ icons/
â”‚   â”‚   â””â”€â”€ fonts/
â”‚   â””â”€â”€
â”‚   â””â”€â”€ styles/                        # ğŸ¨ æ ·å¼æ–‡ä»¶
â”‚       â”œâ”€â”€ globals.css                # å…¨å±€æ ·å¼
â”‚       â”œâ”€â”€ variables.css              # CSSå˜é‡
â”‚       â””â”€â”€ themes/                    # ä¸»é¢˜æ–‡ä»¶
â”œâ”€â”€
â”œâ”€â”€ tests/                             # ğŸ§ª æµ‹è¯•æ–‡ä»¶
â”‚   â”œâ”€â”€ setup.ts                       # æµ‹è¯•ç¯å¢ƒé…ç½®
â”‚   â”œâ”€â”€ __mocks__/                     # Mockæ–‡ä»¶
â”‚   â”œâ”€â”€ unit/                          # å•å…ƒæµ‹è¯•
â”‚   â””â”€â”€ integration/                   # é›†æˆæµ‹è¯•
â”œâ”€â”€
â””â”€â”€ docs/                              # ğŸ“š å‰ç«¯æ–‡æ¡£
    â”œâ”€â”€ COMPONENTS.md                  # ç»„ä»¶æ–‡æ¡£
    â”œâ”€â”€ DEPLOYMENT.md                  # éƒ¨ç½²æ–‡æ¡£
    â””â”€â”€ CONTRIBUTING.md                # è´¡çŒ®æŒ‡å—
```

---

## ğŸš€ Backend (API Gateway) ç›®å½•ç»“æ„ (Python + FastAPI)

```
backend/
â”œâ”€â”€ requirements.txt                   # Pythonä¾èµ–
â”œâ”€â”€ requirements-dev.txt               # å¼€å‘ä¾èµ–
â”œâ”€â”€ pyproject.toml                     # é¡¹ç›®é…ç½®
â”œâ”€â”€ pytest.ini                        # æµ‹è¯•é…ç½®
â”œâ”€â”€ .env.example                       # ç¯å¢ƒå˜é‡æ¨¡æ¿
â”œâ”€â”€
â”œâ”€â”€ api_gateway/                       # ä¸»åº”ç”¨åŒ…
â”‚   â”œâ”€â”€ __init__.py
â”‚   â”œâ”€â”€ main.py                        # FastAPIåº”ç”¨å…¥å£
â”‚   â”œâ”€â”€ config.py                      # é…ç½®ç®¡ç†
â”‚   â”œâ”€â”€
â”‚   â”œâ”€â”€ core/                          # ğŸ”§ æ ¸å¿ƒç»„ä»¶
â”‚   â”‚   â”œâ”€â”€ __init__.py
â”‚   â”‚   â”œâ”€â”€ security.py                # å®‰å…¨ç›¸å…³
â”‚   â”‚   â”œâ”€â”€ dependencies.py            # ä¾èµ–æ³¨å…¥
â”‚   â”‚   â”œâ”€â”€ middleware.py              # ä¸­é—´ä»¶
â”‚   â”‚   â”œâ”€â”€ logging.py                 # æ—¥å¿—é…ç½®
â”‚   â”‚   â””â”€â”€ database.py                # æ•°æ®åº“è¿æ¥
â”‚   â”œâ”€â”€
â”‚   â”œâ”€â”€ routers/                       # ğŸ›£ï¸ è·¯ç”±æ¨¡å—
â”‚   â”‚   â”œâ”€â”€ __init__.py
â”‚   â”‚   â”œâ”€â”€ health.py                  # å¥åº·æ£€æŸ¥
â”‚   â”‚   â”œâ”€â”€ auth.py                    # è®¤è¯è·¯ç”±ä»£ç†
â”‚   â”‚   â”œâ”€â”€ chat.py                    # èŠå¤©è·¯ç”±ä»£ç†
â”‚   â”‚   â”œâ”€â”€ admin.py                   # ç®¡ç†è·¯ç”±ä»£ç†
â”‚   â”‚   â””â”€â”€ v1/                        # APIç‰ˆæœ¬åˆ†ç»„
â”‚   â”‚       â”œâ”€â”€ __init__.py
â”‚   â”‚       â”œâ”€â”€ users.py
â”‚   â”‚       â””â”€â”€ conversations.py
â”‚   â”œâ”€â”€
â”‚   â”œâ”€â”€ services/                      # ğŸ’¼ ä¸šåŠ¡æœåŠ¡
â”‚   â”‚   â”œâ”€â”€ __init__.py
â”‚   â”‚   â”œâ”€â”€ auth_service_client.py     # è®¤è¯æœåŠ¡å®¢æˆ·ç«¯
â”‚   â”‚   â”œâ”€â”€ tenant_service_client.py   # ç§Ÿæˆ·æœåŠ¡å®¢æˆ·ç«¯
â”‚   â”‚   â”œâ”€â”€ eino_service_client.py     # EINOæœåŠ¡å®¢æˆ·ç«¯
â”‚   â”‚   â”œâ”€â”€ memory_service_client.py   # è®°å¿†æœåŠ¡å®¢æˆ·ç«¯
â”‚   â”‚   â””â”€â”€ base_client.py             # åŸºç¡€HTTPå®¢æˆ·ç«¯
â”‚   â”œâ”€â”€
â”‚   â”œâ”€â”€ models/                        # ğŸ“Š æ•°æ®æ¨¡å‹
â”‚   â”‚   â”œâ”€â”€ __init__.py
â”‚   â”‚   â”œâ”€â”€ base.py                    # åŸºç¡€æ¨¡å‹
â”‚   â”‚   â”œâ”€â”€ requests.py                # è¯·æ±‚æ¨¡å‹
â”‚   â”‚   â”œâ”€â”€ responses.py               # å“åº”æ¨¡å‹
â”‚   â”‚   â””â”€â”€ schemas/                   # Pydanticæ¨¡å¼
â”‚   â”‚       â”œâ”€â”€ auth.py
â”‚   â”‚       â”œâ”€â”€ user.py
â”‚   â”‚       â””â”€â”€ chat.py
â”‚   â”œâ”€â”€
â”‚   â”œâ”€â”€ utils/                         # ğŸ”§ å·¥å…·æ¨¡å—
â”‚   â”‚   â”œâ”€â”€ __init__.py
â”‚   â”‚   â”œâ”€â”€ exceptions.py              # å¼‚å¸¸å®šä¹‰
â”‚   â”‚   â”œâ”€â”€ validators.py              # éªŒè¯å™¨
â”‚   â”‚   â”œâ”€â”€ helpers.py                 # è¾…åŠ©å‡½æ•°
â”‚   â”‚   â””â”€â”€ constants.py               # å¸¸é‡å®šä¹‰
â”‚   â””â”€â”€
â”‚   â””â”€â”€ middleware/                    # ğŸ”„ ä¸­é—´ä»¶
â”‚       â”œâ”€â”€ __init__.py
â”‚       â”œâ”€â”€ cors.py                    # CORSå¤„ç†
â”‚       â”œâ”€â”€ rate_limit.py              # é€Ÿç‡é™åˆ¶
â”‚       â”œâ”€â”€ request_id.py              # è¯·æ±‚IDç”Ÿæˆ
â”‚       â””â”€â”€ tenant_context.py          # ç§Ÿæˆ·ä¸Šä¸‹æ–‡
â”œâ”€â”€
â”œâ”€â”€ alembic/                           # ğŸ—ƒï¸ æ•°æ®åº“è¿ç§» (å¦‚æœæœ‰ç‹¬ç«‹æ•°æ®åº“)
â”‚   â”œâ”€â”€ env.py
â”‚   â”œâ”€â”€ script.py.mako
â”‚   â””â”€â”€ versions/
â”œâ”€â”€
â”œâ”€â”€ tests/                             # ğŸ§ª æµ‹è¯•
â”‚   â”œâ”€â”€ __init__.py
â”‚   â”œâ”€â”€ conftest.py                    # æµ‹è¯•é…ç½®
â”‚   â”œâ”€â”€ test_main.py                   # ä¸»è¦æµ‹è¯•
â”‚   â”œâ”€â”€ unit/                          # å•å…ƒæµ‹è¯•
â”‚   â”‚   â”œâ”€â”€ test_routers/
â”‚   â”‚   â”œâ”€â”€ test_services/
â”‚   â”‚   â””â”€â”€ test_utils/
â”‚   â”œâ”€â”€ integration/                   # é›†æˆæµ‹è¯•
â”‚   â”‚   â”œâ”€â”€ test_api_gateway.py
â”‚   â”‚   â””â”€â”€ test_service_clients.py
â”‚   â””â”€â”€ fixtures/                      # æµ‹è¯•æ•°æ®
â”œâ”€â”€
â”œâ”€â”€ scripts/                           # ğŸ”§ è¿ç»´è„šæœ¬
â”‚   â”œâ”€â”€ start_dev.py                   # å¼€å‘ç¯å¢ƒå¯åŠ¨
â”‚   â”œâ”€â”€ migrate.py                     # æ•°æ®åº“è¿ç§»
â”‚   â””â”€â”€ health_check.py                # å¥åº·æ£€æŸ¥
â”œâ”€â”€
â””â”€â”€ docs/                              # ğŸ“š APIæ–‡æ¡£
    â”œâ”€â”€ openapi.json                   # OpenAPIè§„èŒƒ
    â””â”€â”€ postman/                       # Postmané›†åˆ
        â””â”€â”€ api_gateway.postman_collection.json
```

---

## ğŸ” Auth Service ç›®å½•ç»“æ„ (Python + FastAPI)

```
auth-service/
â”œâ”€â”€ requirements.txt
â”œâ”€â”€ requirements-dev.txt
â”œâ”€â”€ pyproject.toml
â”œâ”€â”€ .env.example
â”œâ”€â”€
â”œâ”€â”€ auth_service/                      # ä¸»åº”ç”¨åŒ…
â”‚   â”œâ”€â”€ __init__.py
â”‚   â”œâ”€â”€ main.py                        # FastAPIåº”ç”¨å…¥å£
â”‚   â”œâ”€â”€ config.py                      # é…ç½®ç®¡ç†
â”‚   â”œâ”€â”€
â”‚   â”œâ”€â”€ core/                          # ğŸ”§ æ ¸å¿ƒç»„ä»¶
â”‚   â”‚   â”œâ”€â”€ __init__.py
â”‚   â”‚   â”œâ”€â”€ security.py                # JWTå¤„ç†
â”‚   â”‚   â”œâ”€â”€ password.py                # å¯†ç åŠ å¯†
â”‚   â”‚   â”œâ”€â”€ tokens.py                  # ä»¤ç‰Œç®¡ç†
â”‚   â”‚   â””â”€â”€ exceptions.py              # å¼‚å¸¸å®šä¹‰
â”‚   â”œâ”€â”€
â”‚   â”œâ”€â”€ routers/                       # ğŸ›£ï¸ è·¯ç”±æ¨¡å—
â”‚   â”‚   â”œâ”€â”€ __init__.py
â”‚   â”‚   â”œâ”€â”€ health.py                  # å¥åº·æ£€æŸ¥
â”‚   â”‚   â”œâ”€â”€ auth.py                    # è®¤è¯æ¥å£
â”‚   â”‚   â”œâ”€â”€ tokens.py                  # ä»¤ç‰Œç®¡ç†
â”‚   â”‚   â””â”€â”€ internal.py                # å†…éƒ¨æœåŠ¡æ¥å£
â”‚   â”œâ”€â”€
â”‚   â”œâ”€â”€ services/                      # ğŸ’¼ ä¸šåŠ¡æœåŠ¡
â”‚   â”‚   â”œâ”€â”€ __init__.py
â”‚   â”‚   â”œâ”€â”€ auth_service.py            # è®¤è¯ä¸šåŠ¡é€»è¾‘
â”‚   â”‚   â”œâ”€â”€ token_service.py           # ä»¤ç‰Œç®¡ç†
â”‚   â”‚   â”œâ”€â”€ tenant_client.py           # ç§Ÿæˆ·æœåŠ¡å®¢æˆ·ç«¯
â”‚   â”‚   â””â”€â”€ password_service.py        # å¯†ç æœåŠ¡
â”‚   â”œâ”€â”€
â”‚   â”œâ”€â”€ models/                        # ğŸ“Š æ•°æ®æ¨¡å‹
â”‚   â”‚   â”œâ”€â”€ __init__.py
â”‚   â”‚   â”œâ”€â”€ auth.py                    # è®¤è¯ç›¸å…³æ¨¡å‹
â”‚   â”‚   â”œâ”€â”€ tokens.py                  # ä»¤ç‰Œæ¨¡å‹
â”‚   â”‚   â””â”€â”€ schemas/                   # Pydanticæ¨¡å¼
â”‚   â”‚       â”œâ”€â”€ login.py
â”‚   â”‚       â”œâ”€â”€ token.py
â”‚   â”‚       â””â”€â”€ user.py
â”‚   â”œâ”€â”€
â”‚   â”œâ”€â”€ utils/                         # ğŸ”§ å·¥å…·æ¨¡å—
â”‚   â”‚   â”œâ”€â”€ __init__.py
â”‚   â”‚   â”œâ”€â”€ redis_client.py            # Rediså®¢æˆ·ç«¯
â”‚   â”‚   â”œâ”€â”€ cache.py                   # ç¼“å­˜å·¥å…·
â”‚   â”‚   â””â”€â”€ validators.py              # éªŒè¯å™¨
â”‚   â””â”€â”€
â”‚   â””â”€â”€ middleware/                    # ğŸ”„ ä¸­é—´ä»¶
â”‚       â”œâ”€â”€ __init__.py
â”‚       â”œâ”€â”€ rate_limit.py              # é€Ÿç‡é™åˆ¶
â”‚       â””â”€â”€ request_logging.py         # è¯·æ±‚æ—¥å¿—
â”œâ”€â”€
â”œâ”€â”€ tests/                             # ğŸ§ª æµ‹è¯•
â”‚   â”œâ”€â”€ conftest.py
â”‚   â”œâ”€â”€ test_auth.py
â”‚   â”œâ”€â”€ test_tokens.py
â”‚   â””â”€â”€ integration/
â””â”€â”€
â””â”€â”€ scripts/                           # ğŸ”§ è„šæœ¬
    â”œâ”€â”€ start_dev.py
    â””â”€â”€ generate_keys.py               # å¯†é’¥ç”Ÿæˆ
```

---

## ğŸ‘¥ Tenant Service ç›®å½•ç»“æ„ (Python + FastAPI)

```
tenant-service/
â”œâ”€â”€ requirements.txt
â”œâ”€â”€ requirements-dev.txt
â”œâ”€â”€ pyproject.toml
â”œâ”€â”€ .env.example
â”œâ”€â”€
â”œâ”€â”€ tenant_service/                    # ä¸»åº”ç”¨åŒ…
â”‚   â”œâ”€â”€ __init__.py
â”‚   â”œâ”€â”€ main.py                        # FastAPIåº”ç”¨å…¥å£
â”‚   â”œâ”€â”€ config.py                      # é…ç½®ç®¡ç†
â”‚   â”œâ”€â”€
â”‚   â”œâ”€â”€ core/                          # ğŸ”§ æ ¸å¿ƒç»„ä»¶
â”‚   â”‚   â”œâ”€â”€ __init__.py
â”‚   â”‚   â”œâ”€â”€ database.py                # æ•°æ®åº“è¿æ¥
â”‚   â”‚   â”œâ”€â”€ security.py                # å®‰å…¨ç›¸å…³
â”‚   â”‚   â”œâ”€â”€ encryption.py              # pgcryptoåŠ å¯†
â”‚   â”‚   â””â”€â”€ tenant_context.py          # ç§Ÿæˆ·ä¸Šä¸‹æ–‡
â”‚   â”œâ”€â”€
â”‚   â”œâ”€â”€ routers/                       # ğŸ›£ï¸ è·¯ç”±æ¨¡å—
â”‚   â”‚   â”œâ”€â”€ __init__.py
â”‚   â”‚   â”œâ”€â”€ health.py                  # å¥åº·æ£€æŸ¥
â”‚   â”‚   â”œâ”€â”€ tenants.py                 # ç§Ÿæˆ·ç®¡ç†
â”‚   â”‚   â”œâ”€â”€ users.py                   # ç”¨æˆ·ç®¡ç†
â”‚   â”‚   â”œâ”€â”€ suppliers.py               # ä¾›åº”å•†å‡­è¯
â”‚   â”‚   â”œâ”€â”€ tool_configs.py            # å·¥å…·é…ç½®
â”‚   â”‚   â”œâ”€â”€ preferences.py             # ç”¨æˆ·åå¥½
â”‚   â”‚   â””â”€â”€ internal.py                # å†…éƒ¨æœåŠ¡æ¥å£
â”‚   â”œâ”€â”€
â”‚   â”œâ”€â”€ services/                      # ğŸ’¼ ä¸šåŠ¡æœåŠ¡
â”‚   â”‚   â”œâ”€â”€ __init__.py
â”‚   â”‚   â”œâ”€â”€ tenant_service.py          # ç§Ÿæˆ·ä¸šåŠ¡é€»è¾‘
â”‚   â”‚   â”œâ”€â”€ user_service.py            # ç”¨æˆ·ç®¡ç†
â”‚   â”‚   â”œâ”€â”€ credential_service.py      # å‡­è¯ç®¡ç†
â”‚   â”‚   â”œâ”€â”€ tool_config_service.py     # å·¥å…·é…ç½®æœåŠ¡
â”‚   â”‚   â””â”€â”€ preference_service.py      # åå¥½ç®¡ç†
â”‚   â”œâ”€â”€
â”‚   â”œâ”€â”€ models/                        # ğŸ“Š æ•°æ®æ¨¡å‹
â”‚   â”‚   â”œâ”€â”€ __init__.py
â”‚   â”‚   â”œâ”€â”€ database/                  # SQLAlchemyæ¨¡å‹
â”‚   â”‚   â”‚   â”œâ”€â”€ tenant.py
â”‚   â”‚   â”‚   â”œâ”€â”€ user.py
â”‚   â”‚   â”‚   â”œâ”€â”€ role.py
â”‚   â”‚   â”‚   â”œâ”€â”€ supplier_credential.py
â”‚   â”‚   â”‚   â”œâ”€â”€ tool_config.py
â”‚   â”‚   â”‚   â””â”€â”€ user_preference.py
â”‚   â”‚   â””â”€â”€ schemas/                   # Pydanticæ¨¡å¼
â”‚   â”‚       â”œâ”€â”€ tenant.py
â”‚   â”‚       â”œâ”€â”€ user.py
â”‚   â”‚       â”œâ”€â”€ supplier.py
â”‚   â”‚       â””â”€â”€ preference.py
â”‚   â”œâ”€â”€
â”‚   â”œâ”€â”€ repositories/                  # ğŸ—„ï¸ æ•°æ®è®¿é—®å±‚
â”‚   â”‚   â”œâ”€â”€ __init__.py
â”‚   â”‚   â”œâ”€â”€ base.py                    # åŸºç¡€ä»“åº“
â”‚   â”‚   â”œâ”€â”€ tenant_repository.py       # ç§Ÿæˆ·æ•°æ®è®¿é—®
â”‚   â”‚   â”œâ”€â”€ user_repository.py         # ç”¨æˆ·æ•°æ®è®¿é—®
â”‚   â”‚   â”œâ”€â”€ credential_repository.py   # å‡­è¯æ•°æ®è®¿é—®
â”‚   â”‚   â””â”€â”€ preference_repository.py   # åå¥½æ•°æ®è®¿é—®
â”‚   â”œâ”€â”€
â”‚   â”œâ”€â”€ utils/                         # ğŸ”§ å·¥å…·æ¨¡å—
â”‚   â”‚   â”œâ”€â”€ __init__.py
â”‚   â”‚   â”œâ”€â”€ password_utils.py          # å¯†ç å·¥å…·
â”‚   â”‚   â”œâ”€â”€ uuid_utils.py              # UUIDå·¥å…·
â”‚   â”‚   â””â”€â”€ validation_utils.py        # éªŒè¯å·¥å…·
â”‚   â””â”€â”€
â”‚   â””â”€â”€ migrations/                    # ğŸ—ƒï¸ æ•°æ®åº“è¿ç§»
â”‚       â”œâ”€â”€ env.py
â”‚       â”œâ”€â”€ script.py.mako
â”‚       â””â”€â”€ versions/
â”œâ”€â”€
â”œâ”€â”€ tests/                             # ğŸ§ª æµ‹è¯•
â”‚   â”œâ”€â”€ conftest.py
â”‚   â”œâ”€â”€ test_tenants.py
â”‚   â”œâ”€â”€ test_users.py
â”‚   â”œâ”€â”€ test_credentials.py
â”‚   â””â”€â”€ integration/
â””â”€â”€
â””â”€â”€ scripts/                           # ğŸ”§ è„šæœ¬
    â”œâ”€â”€ start_dev.py
    â”œâ”€â”€ init_db.py                     # æ•°æ®åº“åˆå§‹åŒ–
    â””â”€â”€ create_tenant.py               # åˆ›å»ºç§Ÿæˆ·
```

---

## âš¡ EINO Service ç›®å½•ç»“æ„ (Go)

```
eino-service/
â”œâ”€â”€ go.mod                             # Goæ¨¡å—å®šä¹‰
â”œâ”€â”€ go.sum                             # ä¾èµ–é”å®šæ–‡ä»¶
â”œâ”€â”€ .env.example                       # ç¯å¢ƒå˜é‡æ¨¡æ¿
â”œâ”€â”€ Makefile                           # æ„å»ºè„šæœ¬
â”œâ”€â”€
â”œâ”€â”€ cmd/                               # ğŸš€ åº”ç”¨å…¥å£
â”‚   â””â”€â”€ server/
â”‚       â””â”€â”€ main.go                    # ä¸»ç¨‹åºå…¥å£
â”œâ”€â”€
â”œâ”€â”€ internal/                          # ğŸ”’ å†…éƒ¨åŒ…(ä¸å¯¹å¤–æš´éœ²)
â”‚   â”œâ”€â”€ config/                        # âš™ï¸ é…ç½®ç®¡ç†
â”‚   â”‚   â”œâ”€â”€ config.go
â”‚   â”‚   â””â”€â”€ env.go
â”‚   â”œâ”€â”€
â”‚   â”œâ”€â”€ handlers/                      # ğŸ›£ï¸ HTTPå¤„ç†å™¨
â”‚   â”‚   â”œâ”€â”€ health.go                  # å¥åº·æ£€æŸ¥
â”‚   â”‚   â”œâ”€â”€ chat.go                    # èŠå¤©æ¥å£
â”‚   â”‚   â”œâ”€â”€ workflow.go                # å·¥ä½œæµæ¥å£
â”‚   â”‚   â””â”€â”€ internal.go                # å†…éƒ¨æ¥å£
â”‚   â”œâ”€â”€
â”‚   â”œâ”€â”€ services/                      # ğŸ’¼ ä¸šåŠ¡æœåŠ¡
â”‚   â”‚   â”œâ”€â”€ workflow_service.go        # å·¥ä½œæµæœåŠ¡
â”‚   â”‚   â”œâ”€â”€ model_service.go           # æ¨¡å‹æœåŠ¡
â”‚   â”‚   â”œâ”€â”€ tool_service.go            # å·¥å…·æœåŠ¡
â”‚   â”‚   â”œâ”€â”€ memory_service.go          # è®°å¿†æœåŠ¡é›†æˆ
â”‚   â”‚   â””â”€â”€ tenant_service.go          # ç§Ÿæˆ·æœåŠ¡é›†æˆ
â”‚   â”œâ”€â”€
â”‚   â”œâ”€â”€ workflows/                     # ğŸ”„ å·¥ä½œæµå®šä¹‰
â”‚   â”‚   â”œâ”€â”€ simple_chat.go             # ç®€å•å¯¹è¯å·¥ä½œæµ
â”‚   â”‚   â”œâ”€â”€ optimized_rag.go           # ä¼˜åŒ–RAGå·¥ä½œæµ
â”‚   â”‚   â”œâ”€â”€ function_calling.go        # å‡½æ•°è°ƒç”¨å·¥ä½œæµ
â”‚   â”‚   â””â”€â”€ nodes/                     # å·¥ä½œæµèŠ‚ç‚¹
â”‚   â”‚       â”œâ”€â”€ memory_retrieval.go
â”‚   â”‚       â”œâ”€â”€ memory_storage.go
â”‚   â”‚       â”œâ”€â”€ web_search.go
â”‚   â”‚       â””â”€â”€ database_query.go
â”‚   â”œâ”€â”€
â”‚   â”œâ”€â”€ models/                        # ğŸ“Š æ•°æ®æ¨¡å‹
â”‚   â”‚   â”œâ”€â”€ request.go                 # è¯·æ±‚æ¨¡å‹
â”‚   â”‚   â”œâ”€â”€ response.go                # å“åº”æ¨¡å‹
â”‚   â”‚   â”œâ”€â”€ workflow.go                # å·¥ä½œæµæ¨¡å‹
â”‚   â”‚   â”œâ”€â”€ config.go                  # é…ç½®æ¨¡å‹
â”‚   â”‚   â””â”€â”€ execution.go               # æ‰§è¡ŒçŠ¶æ€æ¨¡å‹
â”‚   â”œâ”€â”€
â”‚   â”œâ”€â”€ clients/                       # ğŸŒ å¤–éƒ¨æœåŠ¡å®¢æˆ·ç«¯
â”‚   â”‚   â”œâ”€â”€ base_client.go             # åŸºç¡€HTTPå®¢æˆ·ç«¯
â”‚   â”‚   â”œâ”€â”€ tenant_client.go           # ç§Ÿæˆ·æœåŠ¡å®¢æˆ·ç«¯
â”‚   â”‚   â”œâ”€â”€ memory_client.go           # è®°å¿†æœåŠ¡å®¢æˆ·ç«¯
â”‚   â”‚   â””â”€â”€ ai_providers/              # AIä¾›åº”å•†å®¢æˆ·ç«¯
â”‚   â”‚       â”œâ”€â”€ openai_client.go
â”‚   â”‚       â”œâ”€â”€ anthropic_client.go
â”‚   â”‚       â””â”€â”€ google_client.go
â”‚   â”œâ”€â”€
â”‚   â”œâ”€â”€ middleware/                    # ğŸ”„ ä¸­é—´ä»¶
â”‚   â”‚   â”œâ”€â”€ cors.go                    # CORSå¤„ç†
â”‚   â”‚   â”œâ”€â”€ logging.go                 # æ—¥å¿—ä¸­é—´ä»¶
â”‚   â”‚   â”œâ”€â”€ recovery.go                # é”™è¯¯æ¢å¤
â”‚   â”‚   â””â”€â”€ request_id.go              # è¯·æ±‚ID
â”‚   â”œâ”€â”€
â”‚   â”œâ”€â”€ utils/                         # ğŸ”§ å·¥å…·åŒ…
â”‚   â”‚   â”œâ”€â”€ logger.go                  # æ—¥å¿—å·¥å…·
â”‚   â”‚   â”œâ”€â”€ http_utils.go              # HTTPå·¥å…·
â”‚   â”‚   â”œâ”€â”€ json_utils.go              # JSONå·¥å…·
â”‚   â”‚   â””â”€â”€ validation.go              # éªŒè¯å·¥å…·
â”‚   â””â”€â”€
â”‚   â””â”€â”€ repository/                    # ğŸ—„ï¸ æ•°æ®è®¿é—®å±‚
â”‚       â”œâ”€â”€ execution_repo.go          # æ‰§è¡ŒçŠ¶æ€å­˜å‚¨
â”‚       â””â”€â”€ cache_repo.go              # ç¼“å­˜è®¿é—®
â”œâ”€â”€
â”œâ”€â”€ pkg/                               # ğŸ“¦ å…¬å…±åŒ…(å¯å¯¹å¤–æš´éœ²)
â”‚   â”œâ”€â”€ errors/                        # é”™è¯¯å®šä¹‰
â”‚   â”‚   â”œâ”€â”€ codes.go
â”‚   â”‚   â””â”€â”€ errors.go
â”‚   â””â”€â”€ types/                         # å…¬å…±ç±»å‹
â”‚       â””â”€â”€ common.go
â”œâ”€â”€
â”œâ”€â”€ scripts/                           # ğŸ”§ è„šæœ¬æ–‡ä»¶
â”‚   â”œâ”€â”€ build.sh                       # æ„å»ºè„šæœ¬
â”‚   â”œâ”€â”€ test.sh                        # æµ‹è¯•è„šæœ¬
â”‚   â””â”€â”€ start_dev.sh                   # å¼€å‘å¯åŠ¨
â”œâ”€â”€
â”œâ”€â”€ tests/                             # ğŸ§ª æµ‹è¯•
â”‚   â”œâ”€â”€ unit/                          # å•å…ƒæµ‹è¯•
â”‚   â”‚   â”œâ”€â”€ services_test.go
â”‚   â”‚   â””â”€â”€ workflows_test.go
â”‚   â”œâ”€â”€ integration/                   # é›†æˆæµ‹è¯•
â”‚   â”‚   â””â”€â”€ api_test.go
â”‚   â””â”€â”€ fixtures/                      # æµ‹è¯•æ•°æ®
â”œâ”€â”€
â”œâ”€â”€ docs/                              # ğŸ“š æ–‡æ¡£
â”‚   â”œâ”€â”€ API.md                         # APIæ–‡æ¡£
â”‚   â””â”€â”€ WORKFLOWS.md                   # å·¥ä½œæµæ–‡æ¡£
â””â”€â”€
â””â”€â”€ deployments/                       # ğŸš€ éƒ¨ç½²é…ç½®
    â”œâ”€â”€ Dockerfile
    â””â”€â”€ docker-compose.yml
```

---

## ğŸ§  Memory Service ç›®å½•ç»“æ„ (Python + FastAPI)

```
memory-service/
â”œâ”€â”€ requirements.txt
â”œâ”€â”€ requirements-dev.txt
â”œâ”€â”€ pyproject.toml
â”œâ”€â”€ .env.example
â”œâ”€â”€
â”œâ”€â”€ memory_service/                    # ä¸»åº”ç”¨åŒ…
â”‚   â”œâ”€â”€ __init__.py
â”‚   â”œâ”€â”€ main.py                        # FastAPIåº”ç”¨å…¥å£
â”‚   â”œâ”€â”€ config.py                      # é…ç½®ç®¡ç†
â”‚   â”œâ”€â”€
â”‚   â”œâ”€â”€ core/                          # ğŸ”§ æ ¸å¿ƒç»„ä»¶
â”‚   â”‚   â”œâ”€â”€ __init__.py
â”‚   â”‚   â”œâ”€â”€ mem0_config.py             # Mem0AIé…ç½®
â”‚   â”‚   â”œâ”€â”€ memory_manager.py          # è®°å¿†ç®¡ç†å™¨
â”‚   â”‚   â”œâ”€â”€ tenant_isolation.py        # ç§Ÿæˆ·éš”ç¦»
â”‚   â”‚   â””â”€â”€ cache.py                   # ç¼“å­˜ç®¡ç†
â”‚   â”œâ”€â”€
â”‚   â”œâ”€â”€ routers/                       # ğŸ›£ï¸ è·¯ç”±æ¨¡å—
â”‚   â”‚   â”œâ”€â”€ __init__.py
â”‚   â”‚   â”œâ”€â”€ health.py                  # å¥åº·æ£€æŸ¥
â”‚   â”‚   â”œâ”€â”€ memory.py                  # è®°å¿†æ“ä½œæ¥å£
â”‚   â”‚   â”œâ”€â”€ search.py                  # è®°å¿†æœç´¢
â”‚   â”‚   â”œâ”€â”€ management.py              # è®°å¿†ç®¡ç†
â”‚   â”‚   â””â”€â”€ internal.py                # å†…éƒ¨æœåŠ¡æ¥å£
â”‚   â”œâ”€â”€
â”‚   â”œâ”€â”€ services/                      # ğŸ’¼ ä¸šåŠ¡æœåŠ¡
â”‚   â”‚   â”œâ”€â”€ __init__.py
â”‚   â”‚   â”œâ”€â”€ memory_service.py          # è®°å¿†ä¸šåŠ¡é€»è¾‘
â”‚   â”‚   â”œâ”€â”€ search_service.py          # æœç´¢æœåŠ¡
â”‚   â”‚   â”œâ”€â”€ preference_checker.py      # åå¥½æ£€æŸ¥å™¨
â”‚   â”‚   â”œâ”€â”€ tenant_client.py           # ç§Ÿæˆ·æœåŠ¡å®¢æˆ·ç«¯
â”‚   â”‚   â””â”€â”€ batch_processor.py         # æ‰¹é‡å¤„ç†
â”‚   â”œâ”€â”€
â”‚   â”œâ”€â”€ models/                        # ğŸ“Š æ•°æ®æ¨¡å‹
â”‚   â”‚   â”œâ”€â”€ __init__.py
â”‚   â”‚   â”œâ”€â”€ database/                  # SQLAlchemyæ¨¡å‹
â”‚   â”‚   â”‚   â”œâ”€â”€ memory_metadata.py
â”‚   â”‚   â”‚   â””â”€â”€ access_log.py
â”‚   â”‚   â””â”€â”€ schemas/                   # Pydanticæ¨¡å¼
â”‚   â”‚       â”œâ”€â”€ memory.py
â”‚   â”‚       â”œâ”€â”€ search.py
â”‚   â”‚       â””â”€â”€ batch.py
â”‚   â”œâ”€â”€
â”‚   â”œâ”€â”€ repositories/                  # ğŸ—„ï¸ æ•°æ®è®¿é—®å±‚
â”‚   â”‚   â”œâ”€â”€ __init__.py
â”‚   â”‚   â”œâ”€â”€ memory_repository.py       # è®°å¿†æ•°æ®è®¿é—®
â”‚   â”‚   â””â”€â”€ log_repository.py          # æ—¥å¿—æ•°æ®è®¿é—®
â”‚   â”œâ”€â”€
â”‚   â”œâ”€â”€ utils/                         # ğŸ”§ å·¥å…·æ¨¡å—
â”‚   â”‚   â”œâ”€â”€ __init__.py
â”‚   â”‚   â”œâ”€â”€ memory_utils.py            # è®°å¿†å·¥å…·
â”‚   â”‚   â”œâ”€â”€ tenant_utils.py            # ç§Ÿæˆ·å·¥å…·
â”‚   â”‚   â””â”€â”€ security_utils.py          # å®‰å…¨å·¥å…·
â”‚   â”œâ”€â”€
â”‚   â”œâ”€â”€ middleware/                    # ğŸ”„ ä¸­é—´ä»¶
â”‚   â”‚   â”œâ”€â”€ __init__.py
â”‚   â”‚   â”œâ”€â”€ memory_check.py            # è®°å¿†å¼€å…³æ£€æŸ¥
â”‚   â”‚   â””â”€â”€ tenant_context.py          # ç§Ÿæˆ·ä¸Šä¸‹æ–‡
â”‚   â””â”€â”€
â”‚   â””â”€â”€ migrations/                    # ğŸ—ƒï¸ æ•°æ®åº“è¿ç§»
â”‚       â”œâ”€â”€ env.py
â”‚       â”œâ”€â”€ script.py.mako
â”‚       â””â”€â”€ versions/
â”œâ”€â”€
â”œâ”€â”€ tests/                             # ğŸ§ª æµ‹è¯•
â”‚   â”œâ”€â”€ conftest.py
â”‚   â”œâ”€â”€ test_memory.py
â”‚   â”œâ”€â”€ test_search.py
â”‚   â”œâ”€â”€ test_preferences.py
â”‚   â””â”€â”€ integration/
â””â”€â”€
â””â”€â”€ scripts/                           # ğŸ”§ è„šæœ¬
    â”œâ”€â”€ start_dev.py
    â”œâ”€â”€ init_mem0.py                   # Mem0AIåˆå§‹åŒ–
    â””â”€â”€ cleanup_memories.py            # è®°å¿†æ¸…ç†
```

---

## ğŸ“¦ å…±äº«ä»£ç åº“ç»“æ„ (Shared)

```
shared/
â”œâ”€â”€ python/                            # Pythonå…±äº«ç»„ä»¶
â”‚   â”œâ”€â”€ __init__.py
â”‚   â”œâ”€â”€ setup.py                       # åŒ…å®‰è£…é…ç½®
â”‚   â”œâ”€â”€
â”‚   â”œâ”€â”€ lyss_shared/                   # ä¸»åŒ…
â”‚   â”‚   â”œâ”€â”€ __init__.py
â”‚   â”‚   â”œâ”€â”€
â”‚   â”‚   â”œâ”€â”€ auth/                      # ğŸ” è®¤è¯ç›¸å…³
â”‚   â”‚   â”‚   â”œâ”€â”€ __init__.py
â”‚   â”‚   â”‚   â”œâ”€â”€ jwt_utils.py           # JWTå·¥å…·
â”‚   â”‚   â”‚   â”œâ”€â”€ decorators.py          # è®¤è¯è£…é¥°å™¨
â”‚   â”‚   â”‚   â””â”€â”€ middleware.py          # è®¤è¯ä¸­é—´ä»¶
â”‚   â”‚   â”œâ”€â”€
â”‚   â”‚   â”œâ”€â”€ database/                  # ğŸ—„ï¸ æ•°æ®åº“å·¥å…·
â”‚   â”‚   â”‚   â”œâ”€â”€ __init__.py
â”‚   â”‚   â”‚   â”œâ”€â”€ connection.py          # è¿æ¥ç®¡ç†
â”‚   â”‚   â”‚   â”œâ”€â”€ session.py             # ä¼šè¯ç®¡ç†
â”‚   â”‚   â”‚   â””â”€â”€ base_model.py          # åŸºç¡€æ¨¡å‹
â”‚   â”‚   â”œâ”€â”€
â”‚   â”‚   â”œâ”€â”€ logging/                   # ğŸ“ æ—¥å¿—ç»„ä»¶
â”‚   â”‚   â”‚   â”œâ”€â”€ __init__.py
â”‚   â”‚   â”‚   â”œâ”€â”€ formatter.py           # æ—¥å¿—æ ¼å¼åŒ–
â”‚   â”‚   â”‚   â”œâ”€â”€ handlers.py            # æ—¥å¿—å¤„ç†å™¨
â”‚   â”‚   â”‚   â””â”€â”€ middleware.py          # æ—¥å¿—ä¸­é—´ä»¶
â”‚   â”‚   â”œâ”€â”€
â”‚   â”‚   â”œâ”€â”€ utils/                     # ğŸ”§ é€šç”¨å·¥å…·
â”‚   â”‚   â”‚   â”œâ”€â”€ __init__.py
â”‚   â”‚   â”‚   â”œâ”€â”€ constants.py           # å¸¸é‡å®šä¹‰
â”‚   â”‚   â”‚   â”œâ”€â”€ exceptions.py          # å¼‚å¸¸å®šä¹‰
â”‚   â”‚   â”‚   â”œâ”€â”€ validators.py          # éªŒè¯å™¨
â”‚   â”‚   â”‚   â””â”€â”€ helpers.py             # è¾…åŠ©å‡½æ•°
â”‚   â”‚   â””â”€â”€
â”‚   â”‚   â””â”€â”€ models/                    # ğŸ“Š å…±äº«æ¨¡å‹
â”‚   â”‚       â”œâ”€â”€ __init__.py
â”‚   â”‚       â”œâ”€â”€ base.py                # åŸºç¡€æ¨¡å‹
â”‚   â”‚       â””â”€â”€ responses.py           # ç»Ÿä¸€å“åº”æ ¼å¼
â”‚   â””â”€â”€
â”‚   â””â”€â”€ tests/                         # ğŸ§ª æµ‹è¯•
â”‚       â”œâ”€â”€ test_auth.py
â”‚       â”œâ”€â”€ test_logging.py
â”‚       â””â”€â”€ test_utils.py
â”œâ”€â”€
â”œâ”€â”€ go/                                # Goå…±äº«ç»„ä»¶
â”‚   â”œâ”€â”€ go.mod
â”‚   â”œâ”€â”€ go.sum
â”‚   â”œâ”€â”€
â”‚   â”œâ”€â”€ auth/                          # ğŸ” è®¤è¯ç›¸å…³
â”‚   â”‚   â”œâ”€â”€ jwt.go                     # JWTå·¥å…·
â”‚   â”‚   â”œâ”€â”€ middleware.go              # è®¤è¯ä¸­é—´ä»¶
â”‚   â”‚   â””â”€â”€ types.go                   # è®¤è¯ç±»å‹
â”‚   â”œâ”€â”€
â”‚   â”œâ”€â”€ logging/                       # ğŸ“ æ—¥å¿—ç»„ä»¶
â”‚   â”‚   â”œâ”€â”€ logger.go                  # æ—¥å¿—å™¨
â”‚   â”‚   â”œâ”€â”€ formatter.go               # æ ¼å¼åŒ–å™¨
â”‚   â”‚   â””â”€â”€ middleware.go              # æ—¥å¿—ä¸­é—´ä»¶
â”‚   â”œâ”€â”€
â”‚   â”œâ”€â”€ utils/                         # ğŸ”§ å·¥å…·åŒ…
â”‚   â”‚   â”œâ”€â”€ constants.go               # å¸¸é‡
â”‚   â”‚   â”œâ”€â”€ errors.go                  # é”™è¯¯å¤„ç†
â”‚   â”‚   â”œâ”€â”€ http.go                    # HTTPå·¥å…·
â”‚   â”‚   â””â”€â”€ validation.go              # éªŒè¯å·¥å…·
â”‚   â””â”€â”€
â”‚   â””â”€â”€ types/                         # ğŸ“ å…¬å…±ç±»å‹
â”‚       â”œâ”€â”€ request.go                 # è¯·æ±‚ç±»å‹
â”‚       â”œâ”€â”€ response.go                # å“åº”ç±»å‹
â”‚       â””â”€â”€ config.go                  # é…ç½®ç±»å‹
â””â”€â”€
â””â”€â”€ typescript/                        # TypeScriptå…±äº«ç»„ä»¶
    â”œâ”€â”€ package.json
    â”œâ”€â”€ tsconfig.json
    â”œâ”€â”€
    â”œâ”€â”€ src/
    â”‚   â”œâ”€â”€ types/                     # ğŸ“ ç±»å‹å®šä¹‰
    â”‚   â”‚   â”œâ”€â”€ api.ts                 # APIç±»å‹
    â”‚   â”‚   â”œâ”€â”€ user.ts                # ç”¨æˆ·ç±»å‹
    â”‚   â”‚   â”œâ”€â”€ chat.ts                # èŠå¤©ç±»å‹
    â”‚   â”‚   â””â”€â”€ common.ts              # é€šç”¨ç±»å‹
    â”‚   â”œâ”€â”€
    â”‚   â”œâ”€â”€ api/                       # ğŸŒ APIå®¢æˆ·ç«¯
    â”‚   â”‚   â”œâ”€â”€ base.ts                # åŸºç¡€å®¢æˆ·ç«¯
    â”‚   â”‚   â”œâ”€â”€ auth.ts                # è®¤è¯API
    â”‚   â”‚   â”œâ”€â”€ chat.ts                # èŠå¤©API
    â”‚   â”‚   â””â”€â”€ admin.ts               # ç®¡ç†API
    â”‚   â”œâ”€â”€
    â”‚   â””â”€â”€ utils/                     # ğŸ”§ å·¥å…·å‡½æ•°
    â”‚       â”œâ”€â”€ constants.ts           # å¸¸é‡
    â”‚       â”œâ”€â”€ validators.ts          # éªŒè¯å™¨
    â”‚       â”œâ”€â”€ formatters.ts          # æ ¼å¼åŒ–å™¨
    â”‚       â””â”€â”€ helpers.ts             # è¾…åŠ©å‡½æ•°
    â”œâ”€â”€
    â”œâ”€â”€ tests/                         # ğŸ§ª æµ‹è¯•
    â””â”€â”€ dist/                          # ğŸ“¦ æ„å»ºè¾“å‡º
```

---

## ğŸ”§ å…³é”®è§„èŒƒè¦æ±‚

### ğŸ“ ç›®å½•å‘½åè§„èŒƒ

1. **æœåŠ¡ç›®å½•**: ä½¿ç”¨ `kebab-case`ï¼ˆçŸ­æ¨ªçº¿è¿æ¥ï¼‰
   - âœ… `auth-service`, `tenant-service`, `memory-service`
   - âŒ `authService`, `auth_service`, `AuthService`

2. **ä»£ç åŒ…/æ¨¡å—**: ä½¿ç”¨ `snake_case`ï¼ˆä¸‹åˆ’çº¿è¿æ¥ï¼‰
   - âœ… `auth_service`, `memory_service`, `user_preferences`
   - âŒ `authService`, `auth-service`, `AuthService`

3. **æ–‡ä»¶å‘½å**: éµå¾ªå„è¯­è¨€çº¦å®š
   - Python: `snake_case.py`
   - Go: `snake_case.go` æˆ– `camelCase.go`
   - TypeScript: `camelCase.ts` æˆ– `kebab-case.ts`

### ğŸ“„ å¿…éœ€æ–‡ä»¶æ¸…å•

æ¯ä¸ªæœåŠ¡**å¿…é¡»**åŒ…å«ä»¥ä¸‹æ–‡ä»¶ï¼š

1. **ç¯å¢ƒé…ç½®**
   - `.env.example` - ç¯å¢ƒå˜é‡æ¨¡æ¿
   - `requirements.txt` (Python) æˆ– `go.mod` (Go) æˆ– `package.json` (Node.js)

2. **æ–‡æ¡£æ–‡ä»¶**
   - `README.md` - æœåŠ¡è¯´æ˜å’Œå¯åŠ¨æŒ‡å—
   - `docs/API.md` - APIæ¥å£æ–‡æ¡£

3. **é…ç½®æ–‡ä»¶**
   - ä¸»é…ç½®æ–‡ä»¶ï¼š`config.py` / `config.go` / `config.ts`
   - æµ‹è¯•é…ç½®ï¼š`pytest.ini` / `Makefile` / `jest.config.js`

4. **å¥åº·æ£€æŸ¥**
   - å¥åº·æ£€æŸ¥è·¯ç”±ï¼š`/health`
   - å¯¹åº”çš„å¤„ç†æ–‡ä»¶ï¼š`health.py` / `health.go` / `health.ts`

### ğŸ”’ å®‰å…¨å’Œéšç§è¦æ±‚

1. **æ•æ„Ÿæ–‡ä»¶ä¸¥ç¦æäº¤**
   - `.env` - å®é™…ç¯å¢ƒå˜é‡
   - `*.key` - å¯†é’¥æ–‡ä»¶
   - `secrets/` - å¯†é’¥ç›®å½•
   - `logs/` - æ—¥å¿—æ–‡ä»¶

2. **æƒé™æ§åˆ¶**
   - æ‰€æœ‰APIéƒ½å¿…é¡»æœ‰å¯¹åº”çš„æƒé™æ£€æŸ¥
   - å¤šç§Ÿæˆ·æ•°æ®ä¸¥æ ¼éš”ç¦»
   - æ•æ„Ÿæ“ä½œå¿…é¡»è®°å½•å®¡è®¡æ—¥å¿—

### ğŸ§ª æµ‹è¯•è§„èŒƒ

1. **æµ‹è¯•ç›®å½•ç»“æ„**
   ```
   tests/
   â”œâ”€â”€ unit/          # å•å…ƒæµ‹è¯•
   â”œâ”€â”€ integration/   # é›†æˆæµ‹è¯•
   â”œâ”€â”€ e2e/          # ç«¯åˆ°ç«¯æµ‹è¯•
   â”œâ”€â”€ fixtures/     # æµ‹è¯•æ•°æ®
   â””â”€â”€ conftest.py   # æµ‹è¯•é…ç½®
   ```

2. **æµ‹è¯•è¦†ç›–ç‡è¦æ±‚**
   - å•å…ƒæµ‹è¯•è¦†ç›–ç‡ â‰¥ 80%
   - å…³é”®ä¸šåŠ¡é€»è¾‘è¦†ç›–ç‡ â‰¥ 95%
   - æ‰€æœ‰APIæ¥å£å¿…é¡»æœ‰é›†æˆæµ‹è¯•

### ğŸš€ éƒ¨ç½²è¦æ±‚

1. **Dockeræ”¯æŒ**
   - æ¯ä¸ªæœåŠ¡å¿…é¡»æœ‰ `Dockerfile`
   - æ”¯æŒå¤šé˜¶æ®µæ„å»ºä¼˜åŒ–é•œåƒå¤§å°
   - éç‰¹æƒç”¨æˆ·è¿è¡Œ

2. **å¥åº·æ£€æŸ¥**
   - æ‰€æœ‰æœåŠ¡å¿…é¡»æä¾› `/health` æ¥å£
   - Dockerå®¹å™¨å¿…é¡»é…ç½®å¥åº·æ£€æŸ¥
   - æ”¯æŒä¼˜é›…å…³é—­

---

## âš ï¸ ä¸¥æ ¼çº¦æŸæ¡ä»¶

### ğŸ”’ å¼ºåˆ¶æ€§è§„èŒƒ

1. **ç›®å½•ç»“æ„ä¸å¾—éšæ„æ›´æ”¹** - ä»»ä½•ç»“æ„è°ƒæ•´å¿…é¡»å…ˆæ›´æ–°æœ¬æ–‡æ¡£
2. **å¿…éœ€æ–‡ä»¶ä¸å¾—ç¼ºå¤±** - æ¯ä¸ªæœåŠ¡çš„å¿…éœ€æ–‡ä»¶å¿…é¡»å®Œæ•´å­˜åœ¨
3. **å‘½åè§„èŒƒä¸¥æ ¼æ‰§è¡Œ** - æ‰€æœ‰æ–‡ä»¶ã€ç›®å½•ã€å˜é‡å‘½åå¿…é¡»éµå¾ªè§„èŒƒ
4. **å¤šç§Ÿæˆ·éš”ç¦»** - æ‰€æœ‰ä¸šåŠ¡æ•°æ®å¿…é¡»ä¸¥æ ¼æŒ‰ç§Ÿæˆ·éš”ç¦»
5. **å®‰å…¨è§„èŒƒ** - ä»»ä½•æ¶‰åŠè®¤è¯ã€æˆæƒã€åŠ å¯†çš„ä»£ç å¿…é¡»éµå¾ªå®‰å…¨è§„èŒƒ

### ğŸ“Š ç›‘æ§æŒ‡æ ‡

- ä»£ç ç»“æ„åˆè§„æ€§æ£€æŸ¥
- å¿…éœ€æ–‡ä»¶å®Œæ•´æ€§ç›‘æ§
- æµ‹è¯•è¦†ç›–ç‡ç»Ÿè®¡
- å®‰å…¨è§„èŒƒéµå¾ªåº¦è¯„ä¼°

---

**ğŸ“‹ é‡è¦æé†’**: æœ¬ç›®å½•ç»“æ„è§„èŒƒæ˜¯ Lyss AI Platform é¡¹ç›®å¼€å‘çš„åŸºç¡€è§„èŒƒï¼Œä»»ä½•åç¦»éƒ½å¯èƒ½å¯¼è‡´å›¢é˜Ÿåä½œæ•ˆç‡ä¸‹é™å’Œä»£ç ç»´æŠ¤å›°éš¾ã€‚è¯·ä¸¥æ ¼éµå¾ªæ‰§è¡Œï¼

**ğŸ”„ æ–‡æ¡£ç‰ˆæœ¬**: 1.0.0  
**ğŸ“… æœ€åæ›´æ–°**: 2025-07-10  
**ğŸ“… ä¸‹æ¬¡å®¡æŸ¥**: 2025-08-10